import{r as s,j as e,c as P,u as W,i as q,B as C,p as b}from"./index-0NWuTVo4.js";const B="_inputWrapper_17fws_1",V="_input_17fws_1",F="_readonly_17fws_23",N={inputWrapper:B,input:V,readonly:F},m=s.memo(c=>{const{name:_,className:a,placeholder:f,type:l="text",value:g,onChange:r,autofocus:p,readonly:n,...d}=c,o=s.useRef(null),[y,i]=s.useState(!1);s.useEffect(()=>{p&&(i(!0),o.current?.focus())},[p]);const h=j=>{r?.(j.target.value)},u=()=>i(!1),v=()=>i(!0),x={[N.readonly]:n};return e.jsx("div",{className:P(N.inputWrapper,[a],x),children:e.jsx("input",{placeholder:f,ref:o,className:N.input,type:l,name:_,value:g,onChange:h,onBlur:u,onFocus:v,readOnly:n,...d})})}),S="_createProductPage_c1v1q_1",k="_isValid_c1v1q_12",I="_imageWrapper_c1v1q_16",w="_image_c1v1q_16",D="_infoWrapper_c1v1q_30",E="_button_c1v1q_38",R="_form_c1v1q_43",A="_createBtn_c1v1q_51",t={createProductPage:S,isValid:k,imageWrapper:I,image:w,infoWrapper:D,button:E,form:R,createBtn:A},H=()=>{const[c,_]=s.useState(""),[a,f]=s.useState(""),[l,g]=s.useState(""),[r,p]=s.useState(""),[n,d]=s.useState(!1),o=r.length>0?r:void 0,y=W(),i=()=>{if(!c.length||!a.length)return d(!0),!0;d(!1)},h=x=>{if(x.preventDefault(),i())return;const j={id:Number(a)+999,title:c,price:Number(a),description:l,images:[r],isFavorite:!1};y(b.createProduct(j)),u("/products")},u=q(),v=s.useCallback(()=>{u("/products")},[u]);return e.jsxs("div",{className:t.createProductPage,children:[e.jsx("div",{className:t.imageWrapper,children:o?e.jsx("img",{className:t.image,src:o}):e.jsx("p",{children:"Place for your picture"})}),e.jsxs("div",{className:t.infoWrapper,children:[e.jsx("h1",{className:t.title,children:"Create product"}),e.jsxs("form",{className:t.form,children:[e.jsx(m,{autoFocus:!0,className:P({[t.isValid]:n}),value:c,onChange:_,name:"name",type:"text",placeholder:"name",required:!0}),e.jsx(m,{className:P({[t.isValid]:n}),value:a,onChange:f,name:"price",type:"number",placeholder:"price",required:!0}),e.jsx(m,{value:l,onChange:g,name:"description",type:"text",placeholder:"description"}),e.jsx(m,{value:r,onChange:p,name:"url",type:"text",placeholder:"picture url",required:!0}),e.jsx(C,{type:"submit",onClick:h,className:t.createBtn,children:"Create"})]})]}),e.jsx("div",{children:e.jsx(C,{onClick:v,className:t.button,children:"Back"})})]})};export{H as default};
