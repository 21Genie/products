import{r as s,j as e,c as N,u as C,i as W,B as y,p as z}from"./index-BmFpGh_-.js";const B="_inputWrapper_17fws_1",V="_input_17fws_1",F="_readonly_17fws_23",v={inputWrapper:B,input:V,readonly:F},m=s.memo(n=>{const{name:_,className:a,placeholder:g,type:u="text",value:f,onChange:r,autofocus:l,readonly:c,...p}=n,d=s.useRef(null),[P,o]=s.useState(!1);s.useEffect(()=>{l&&(o(!0),d.current?.focus())},[l]);const h=b=>{r?.(b.target.value)},i=()=>o(!1),j=()=>o(!0),x={[v.readonly]:c};return e.jsx("div",{className:N(v.inputWrapper,[a],x),children:e.jsx("input",{placeholder:g,ref:d,className:v.input,type:u,name:_,value:f,onChange:h,onBlur:i,onFocus:j,readOnly:c,...p})})}),S="_createProductPage_mzj7b_1",k="_imageWrapper_mzj7b_11",I="_isValid_mzj7b_15",q="_image_mzj7b_11",w="_infoWrapper_mzj7b_26",D="_button_mzj7b_35",E="_form_mzj7b_43",R="_createBtn_mzj7b_50",t={createProductPage:S,imageWrapper:k,isValid:I,image:q,infoWrapper:w,button:D,form:E,createBtn:R},T=()=>{const[n,_]=s.useState(""),[a,g]=s.useState(""),[u,f]=s.useState(""),[r,l]=s.useState(""),[c,p]=s.useState(!1),d=r.length>0?r:void 0,P=C(),o=()=>{if(!n.length||!a.length)return p(!0),!0;p(!1)},h=x=>{if(x.preventDefault(),o())return;const b={id:Number(a)+999,title:n,price:Number(a),description:u,images:[r],isFavorite:!1};P(z.createProduct(b)),i("/products")},i=W(),j=s.useCallback(()=>{i("/products")},[i]);return e.jsxs("div",{className:t.createProductPage,children:[e.jsx("div",{className:t.imageWrapper,children:e.jsx("img",{className:t.image,src:d})}),e.jsxs("div",{className:t.infoWrapper,children:[e.jsx("h1",{className:t.title,children:"Create product"}),e.jsx(y,{onClick:j,className:t.button,children:"Back"}),e.jsxs("form",{className:t.form,children:[e.jsx(m,{autoFocus:!0,className:N({[t.isValid]:c}),value:n,onChange:_,name:"name",type:"text",placeholder:"name",required:!0}),e.jsx(m,{className:N({[t.isValid]:c}),value:a,onChange:g,name:"price",type:"number",placeholder:"price",required:!0}),e.jsx(m,{value:u,onChange:f,name:"description",type:"text",placeholder:"description"}),e.jsx(m,{value:r,onChange:l,name:"url",type:"text",placeholder:"picture url",required:!0}),e.jsx(y,{type:"submit",onClick:h,className:t.createBtn,children:"Create"})]})]})]})};export{T as default};
